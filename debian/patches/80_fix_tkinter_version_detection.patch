From 04b4e509197802b7753c1e10b70f07dbecc2d89e Mon Sep 17 00:00:00 2001
From: Darren Dale <dsdale24@gmail.com>
Date: Sun, 5 Jun 2011 08:25:30 -0400
Subject: [PATCH] work around bad Tkinter version report

---
 setupext.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/setupext.py b/setupext.py
index 6d041c9..5af214c 100644
--- a/setupext.py
+++ b/setupext.py
@@ -843,8 +843,12 @@ def check_for_tk():
                 gotit = False
 
     if gotit:
+        try:
+            tk_v = Tkinter.__version__.split()[-2]
+        except IndexError:
+            tk_v = 'version not identified'
         print_status("Tkinter", "Tkinter: %s, Tk: %s, Tcl: %s" %
-                     (Tkinter.__version__.split()[-2], Tkinter.TkVersion, Tkinter.TclVersion))
+                     (tk_v, Tkinter.TkVersion, Tkinter.TclVersion))
     else:
         print_status("Tkinter", "no")
     if explanation is not None:
-- 
1.7.5.4

