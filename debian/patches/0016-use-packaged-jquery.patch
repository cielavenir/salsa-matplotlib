Origin: https://src.fedoraproject.org/fork/qulogic/rpms/python-matplotlib/blob/8e70c8fbb44b4472180c804d7b74a9589da6fa78/f/0001-Use-packaged-jquery-and-jquery-ui.patch
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
--- a/setup.py
+++ b/setup.py
@@ -123,61 +123,6 @@ cmdclass = versioneer.get_cmdclass()
 cmdclass['test'] = NoopTestCommand
 cmdclass['build_ext'] = BuildExtraLibraries
 
-
-def _download_jquery_to(dest):
-    if os.path.exists(os.path.join(dest, "jquery-ui-1.12.1")):
-        return
-
-    # If we are installing from an sdist, use the already downloaded jquery-ui
-    sdist_src = os.path.join(
-        "lib/matplotlib/backends/web_backend", "jquery-ui-1.12.1")
-    if os.path.exists(sdist_src):
-        shutil.copytree(sdist_src, os.path.join(dest, "jquery-ui-1.12.1"))
-        return
-
-    # Note: When bumping the jquery-ui version, also update the versions in
-    # single_figure.html and all_figures.html.
-    url = "https://jqueryui.com/resources/download/jquery-ui-1.12.1.zip"
-    sha = 'f8233674366ab36b2c34c577ec77a3d70cac75d2e387d8587f3836345c0f624d'
-    if not os.path.exists(os.path.join(dest, "jquery-ui-1.12.1")):
-        os.makedirs(dest, exist_ok=True)
-        try:
-            buff = download_or_cache(url, sha)
-        except Exception:
-            raise IOError("Failed to download jquery-ui.  Please download " +
-                          "{url} and extract it to {dest}.".format(
-                              url=url, dest=dest))
-        with ZipFile(buff) as zf:
-            zf.extractall(dest)
-
-
-# Relying on versioneer's implementation detail.
-class sdist_with_jquery(cmdclass['sdist']):
-    def make_release_tree(self, base_dir, files):
-        super(sdist_with_jquery, self).make_release_tree(base_dir, files)
-        _download_jquery_to(
-            os.path.join(base_dir, "lib/matplotlib/backends/web_backend/"))
-
-
-# Affects install and bdist_wheel.
-class install_lib_with_jquery(InstallLibCommand):
-    def run(self):
-        super(install_lib_with_jquery, self).run()
-        _download_jquery_to(
-            os.path.join(self.install_dir, "matplotlib/backends/web_backend/"))
-
-
-class develop_with_jquery(DevelopCommand):
-    def run(self):
-        super(develop_with_jquery, self).run()
-        _download_jquery_to("lib/matplotlib/backends/web_backend/")
-
-
-cmdclass['sdist'] = sdist_with_jquery
-cmdclass['install_lib'] = install_lib_with_jquery
-cmdclass['develop'] = develop_with_jquery
-
-
 # One doesn't normally see `if __name__ == '__main__'` blocks in a setup.py,
 # however, this is needed on Windows to avoid creating infinite subprocesses
 # when using multiprocessing.
--- a/lib/matplotlib/backends/web_backend/all_figures.html
+++ b/lib/matplotlib/backends/web_backend/all_figures.html
@@ -3,9 +3,9 @@
     <link rel="stylesheet" href="{{ prefix }}/_static/css/page.css" type="text/css">
     <link rel="stylesheet" href="{{ prefix }}/_static/css/boilerplate.css" type="text/css" />
     <link rel="stylesheet" href="{{ prefix }}/_static/css/fbm.css" type="text/css" />
-    <link rel="stylesheet" href="{{ prefix }}/_static/jquery-ui-1.12.1/jquery-ui.min.css" >
-    <script src="{{ prefix }}/_static/jquery-ui-1.12.1/external/jquery/jquery.js"></script>
-    <script src="{{ prefix }}/_static/jquery-ui-1.12.1/jquery-ui.min.js"></script>
+    <link rel="stylesheet" href="/usr/share/javascript/jquery-ui/themes/base/jquery-ui.min.css" >
+    <script src="/usr/share/javascript/jquery/jquery.min.js"></script>
+    <script src="/usr/share/javascript/jquery-ui/jquery-ui.min.js"></script>
     <script src="{{ prefix }}/_static/js/mpl_tornado.js"></script>
     <script src="{{ prefix }}/js/mpl.js"></script>
 
--- a/lib/matplotlib/backends/web_backend/single_figure.html
+++ b/lib/matplotlib/backends/web_backend/single_figure.html
@@ -3,9 +3,9 @@
     <link rel="stylesheet" href="{{ prefix }}/_static/css/page.css" type="text/css">
     <link rel="stylesheet" href="{{ prefix }}/_static/css/boilerplate.css" type="text/css" />
     <link rel="stylesheet" href="{{ prefix }}/_static/css/fbm.css" type="text/css" />
-    <link rel="stylesheet" href="{{ prefix }}/_static/jquery-ui-1.12.1/jquery-ui.min.css" >
-    <script src="{{ prefix }}/_static/jquery-ui-1.12.1/external/jquery/jquery.js"></script>
-    <script src="{{ prefix }}/_static/jquery-ui-1.12.1/jquery-ui.min.js"></script>
+    <link rel="stylesheet" href=""/usr/share/javascript/jquery-ui/themes/base/jquery-ui.min.css >
+    <script src="/usr/share/javascript/jquery/jquery.min.js"></script>
+    <script src="/usr/share/javascript/jquery-ui/jquery-ui.min.js"></script>
     <script src="{{ prefix }}/_static/js/mpl_tornado.js"></script>
     <script src="{{ prefix }}/js/mpl.js"></script>
     <script>
