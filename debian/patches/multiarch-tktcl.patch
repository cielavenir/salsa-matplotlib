From 56fe215a102f4589e72fc3ff3672074de6c0d7cd Mon Sep 17 00:00:00 2001
From: Julian Taylor <jtaylor@ubuntu.com>
Date: Thu, 8 Oct 2015 09:47:15 -0700
Subject: adapt setup to find multiarched tk/tcl

Bug-Ubuntu: https://bugs.launchpad.net/ubuntu/+source/matplotlib/+bug/752647
Forwarded: no, only if we upstream multiarchification

Patch-Name: multiarch-tktcl.patch
---
 setupext.py | 4 ++++
 1 file changed, 4 insertions(+)

--- a/setupext.py
+++ b/setupext.py
@@ -1727,6 +1727,10 @@ class BackendGtk3Cairo(OptionalBackendPa
         if 'TRAVIS' in os.environ:
             raise CheckFailed("Can't build with Travis")
 
+        # yoh: Builds of Debian packages often lead to a dead-lock here
+        #      As a workaround forcing build manually without a check
+        BackendAgg.force = True
+        return "ok"
         # This check needs to be performed out-of-process, because
         # importing gi and then importing regular old pygtk afterward
         # segfaults the interpreter.
